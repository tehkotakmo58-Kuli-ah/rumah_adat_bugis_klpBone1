<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Model 3D – Rumah Adat Bugis (Bola Ugi)</title>

  <!-- Font agar konsisten dengan halaman lain -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <!-- model-viewer -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>

  <style>
    :root{
      /* Warna dan variabel mengikuti desain yang kamu beri */
      --bg:#0b1020; --ink:#e6edf3; --muted:#9fb0c4; --panel:#0f162e; --line:#1f2a44; --accent:#22d3ee;
      --article-primary:#007bff; --article-light:#f4f4f4; --article-text-light:#e0e0e0; --article-text-muted:#aaaaaa;
      --article-bg-card:#1e1e1e; --article-code-bg:#2a2a2a;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Poppins, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      background:var(--bg); color:var(--ink);
    }

    /* Header */
    header{
      padding:18px 16px;
      border-bottom:1px solid var(--line);
      background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,0));
    }
    header h1{margin:0 0 6px; font-size:clamp(20px,2.8vw,28px)}
    header .muted{color:var(--muted); font-size:13px}

    .shell{max-width:1100px; margin:24px auto 40px; padding:0 20px}

    .page-actions{display:flex; margin:4px 0 16px}
    .back-home{
      display:inline-flex; gap:6px; align-items:center;
      padding:10px 16px; border-radius:999px;
      border:1px solid rgba(34,211,238,.4); color:var(--accent);
      text-decoration:none; font-weight:600; font-size:14px;
      transition:background-color .2s, transform .2s}
    .back-home:hover{background:rgba(34,211,238,.16); transform:translateY(-1px)}

    /* Kartu konten utama */
    .content{
      background:var(--article-bg-card);
      border:1px solid rgba(255,255,255,.08);
      border-radius:14px; padding:28px;
      box-shadow:0 15px 40px rgba(0,0,0,.35);
    }
    .content h2{margin:0 0 14px; border-bottom:2px solid var(--article-primary); padding-bottom:10px}
    .content p{color:var(--article-text-light); line-height:1.7}

    /* Panel 3D */
    .viewer-wrap{
      display:grid; grid-template-columns: 1fr 300px; gap:22px; align-items:start;
    }
    @media (max-width: 900px){ .viewer-wrap{grid-template-columns: 1fr} }

    model-viewer{
      width:100%; height:520px; border-radius:12px; overflow:hidden;
      background: radial-gradient(1200px 400px at 50% 100%, #0b162f 0%, #0b1020 70%);
      border:1px solid rgba(255,255,255,.06);
    }
    /* tombol bawaan model-viewer */
    model-viewer::part(default-ar-button){display:none}
    model-viewer::part(progress-bar){background:rgba(255,255,255,.15)}
    model-viewer::part(hit-test-button){background:var(--accent)}

    /* Panel kontrol */
    .panel{
      background:var(--panel); border:1px solid var(--line);
      border-radius:12px; padding:16px; display:grid; gap:14px;
    }
    .panel h3{margin:0; font-size:16px}
    .control{display:grid; gap:6px}
    .control label{font-size:13px; color:var(--muted)}
    .row{display:flex; gap:10px; flex-wrap:wrap}

    input[type="range"]{width:100%}
    .btn{
      display:inline-flex; align-items:center; justify-content:center; gap:8px;
      padding:10px 14px; border-radius:999px; border:1px solid rgba(34,211,238,.35);
      color:var(--accent); text-decoration:none; background:transparent; cursor:pointer;
      font-weight:600; font-size:14px; transition:background-color .2s, transform .2s;
    }
    .btn:hover{background:rgba(34,211,238,.12); transform:translateY(-1px)}
    .btn-primary{background:var(--accent); color:#001018; border:none}
    .btn-primary:hover{box-shadow:0 8px 24px rgba(34,211,238,.35)}

    footer{color:var(--muted); font-size:12px; text-align:center; padding:28px 16px}
  </style>
</head>
<body>
  <header>
    <h1>Model 3D – Rumah Adat Bugis (Bola Ugi)</h1>
    <div class="muted">Putar, perbesar, dan amati detail konstruksinya langsung di browser.</div>
  </header>

  <div class="shell">
    <div class="page-actions">
      <a class="back-home" href="index.html">← Kembali ke Beranda</a>
    </div>

    <section class="content">
      <h2>Pratinjau Interaktif</h2>

      <div class="viewer-wrap">
        <!-- GANTI src GLB sesuai lokasi file kamu -->
        <model-viewer id="viewer"
          src="assets\images\bugis_house.glb"
          camera-controls
          touch-action="pan-y"
          shadow-intensity="0.6"
          exposure="1.0"
          environment-image="neutral"
          poster="assets\images\main_img.png"
          ar ar-modes="webxr scene-viewer quick-look"
          alt="Model 3D rumah adat Bugis (Bola Ugi)">
        </model-viewer>

        <aside class="panel">
          <h3>Pengaturan Tampilan</h3>

          <div class="control">
            <label for="exp">Eksposur</label>
            <input id="exp" type="range" min="0.3" max="2.2" step="0.05" value="1.0">
          </div>

          <div class="control">
            <label for="shadow">Bayangan</label>
            <input id="shadow" type="range" min="0" max="1" step="0.05" value="0.6">
          </div>

          <div class="row">
            <button class="btn" id="fit">Fit Kamera</button>
            <button class="btn" id="reset">Reset</button>
            <a class="btn btn-primary" id="full" href="#!">Layar Penuh</a>
          </div>

          <p class="muted" style="color:var(--muted); margin:6px 0 0">
            Navigasi: drag untuk orbit, scroll untuk zoom, dan seret dua jari untuk pan.
          </p>
        </aside>
      </div>

      <h2 style="margin-top:28px">Keterangan</h2>
      <p>
        Model 3D ini digunakan untuk mendukung pembelajaran etnomatematika: mengamati proporsi,
        simetri, dan relasi geometri pada struktur <em>Bola Ugi</em>. Halaman ini mengikuti
        skema warna dan tipografi yang sama dengan halaman lain agar pengalaman pengguna konsisten.
      </p>
    </section>
  </div>

  <footer>© 2025 · Model 3D Rumah Adat Bugis · Dibangun untuk pembelajaran etnomatematika</footer>

  <script>
    const mv = document.getElementById('viewer');
    const exp = document.getElementById('exp');
    const shadow = document.getElementById('shadow');
    const fit = document.getElementById('fit');
    const reset = document.getElementById('reset');
    const full = document.getElementById('full');

    exp.addEventListener('input', e => mv.exposure = parseFloat(e.target.value));
    shadow.addEventListener('input', e => mv.shadowIntensity = parseFloat(e.target.value));

    fit.addEventListener('click', () => {
      try { mv.cameraOrbit = 'auto auto auto'; mv.jumpCameraToGoal(); } catch {}
    });

    const defaults = { exposure: mv.exposure, shadow: mv.shadowIntensity, orbit: mv.cameraOrbit };
    reset.addEventListener('click', () => {
      mv.exposure = defaults.exposure;
      mv.shadowIntensity = defaults.shadow;
      mv.cameraOrbit = defaults.orbit;
      exp.value = defaults.exposure;
      shadow.value = defaults.shadow;
    });

    full.addEventListener('click', () => {
      const el = mv;
      if (document.fullscreenElement) document.exitFullscreen();
      else if (el.requestFullscreen) el.requestFullscreen();
    });
  </script>
</body>
</html>
